<%- include('../layout', { body: `

<div class="bg-white rounded-xl shadow-sm overflow-hidden">
  <div class="overflow-x-auto">
    <table class="w-full">
      <thead class="bg-gray-50">
        <tr>
          <th class="px-6 py-4 text-left text-sm font-medium text-gray-600">Doctor</th>
          <th class="px-6 py-4 text-left text-sm font-medium text-gray-600">Especialidad</th>
          <th class="px-6 py-4 text-left text-sm font-medium text-gray-600">Contacto</th>
          <th class="px-6 py-4 text-left text-sm font-medium text-gray-600">Estado</th>
          <th class="px-6 py-4 text-center text-sm font-medium text-gray-600">Acciones</th>
        </tr>
      </thead>
      <tbody class="divide-y divide-gray-100">
        ${doctores.map(d => '<tr class="hover:bg-gray-50">' +
          '<td class="px-6 py-4">' +
            '<div class="flex items-center gap-3">' +
              '<div class="w-10 h-10 rounded-full flex items-center justify-center text-white font-bold" style="background-color: ' + d.color + '">' + d.nombre[0] + d.apellido[0] + '</div>' +
              '<div>' +
                '<p class="font-medium text-gray-800">Dr. ' + d.nombre + ' ' + d.apellido + '</p>' +
                '<p class="text-sm text-gray-500">' + (d.email || 'Sin email') + '</p>' +
              '</div>' +
            '</div>' +
          '</td>' +
          '<td class="px-6 py-4 text-gray-600">' + d.especialidad + '</td>' +
          '<td class="px-6 py-4 text-gray-600">' + (d.telefono || '-') + '</td>' +
          '<td class="px-6 py-4">' +
            (d.activo ? '<span class="bg-green-100 text-green-700 px-2 py-1 rounded-full text-sm">Activo</span>' : '<span class="bg-red-100 text-red-700 px-2 py-1 rounded-full text-sm">Inactivo</span>') +
          '</td>' +
          '<td class="px-6 py-4 text-center">' +
            '<a href="/doctores/' + d.id + '/editar" class="text-primary-600 hover:text-primary-800 mx-1" title="Editar"><i class="fas fa-edit"></i></a>' +
            '<form action="/doctores/' + d.id + '/eliminar" method="POST" class="inline-block mx-1" onsubmit="return confirm(\'¿Está seguro de desactivar este doctor?\')">' +
              '<button type="submit" class="text-yellow-600 hover:text-yellow-800" title="Desactivar"><i class="fas fa-ban"></i></button>' +
            '</form>' +
            '<form action="/doctores/' + d.id + '/eliminar-permanente" method="POST" class="inline-block mx-1" onsubmit="return confirm(\'¿Está SEGURO de eliminar PERMANENTEMENTE este doctor? Esta acción NO se puede deshacer.\')">' +
              '<button type="submit" class="text-red-600 hover:text-red-800" title="Eliminar Permanentemente"><i class="fas fa-trash-alt"></i></button>' +
            '</form>' +
          '</td>' +
        '</tr>').join('')}
      </tbody>
    </table>
  </div>
</div>
`}) %>

